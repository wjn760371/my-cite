{"remainingRequest":"F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\src\\views\\Blog\\components\\BlogCategory.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\src\\views\\Blog\\components\\BlogCategory.vue","mtime":1618285528975},{"path":"F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQ2F0YWxvZ3VlIGZyb20gIkAvdmlld3MvQmxvZy9jb21wb25lbnRzL0NhdGFsb2d1ZSI7DQppbXBvcnQgZmV0Y2hEYXRhIGZyb20gIkAvbWl4aW5zL2ZldGNoRGF0YSI7DQppbXBvcnQgeyBnZXRCbG9nVHlwZXMgfSBmcm9tICJAL2FwaS9ibG9nIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiQmxvZ0NhdGVnb3J5IiwNCiAgbWl4aW5zOiBbZmV0Y2hEYXRhKFtdKV0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBDYXRhbG9ndWUNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBjYXRlZ29yeUlkKCl7DQogICAgICByZXR1cm4gK3RoaXMuJHJvdXRlLnBhcmFtcy5jYXRlZ29yeUlkIHx8IC0xOw0KICAgIH0sDQogICAgbGlzdCgpew0KICAgICAgY29uc3QgdG90YWxBcnRpY2xlQ291bnQgPSB0aGlzLmRhdGEucmVkdWNlKChhLCBiKSA9PiBhICsgYi5hcnRpY2xlQ291bnQsIDApOw0KICAgICAgY29uc3QgcmVzdWx0ID0gW3tuYW1lOiAi5YWo6YOoIiwgaWQ6IC0xLA0KICAgICAgICBhcnRpY2xlQ291bnQ6IHRvdGFsQXJ0aWNsZUNvdW50fSwgLi4udGhpcy5kYXRhXQ0KICAgICAgcmV0dXJuIHJlc3VsdC5tYXAoaXRlbSA9PiAoew0KICAgICAgICAuLi5pdGVtLA0KICAgICAgICBpc1NlbGVjdGVkOiBpdGVtLmlkID09PSB0aGlzLmNhdGVnb3J5SWQsDQogICAgICAgIGFzaWRlOiBgJHtpdGVtLmFydGljbGVDb3VudH3nr4dgDQogICAgICB9KSk7DQogICAgfSwNCiAgICBsaW1pdCgpew0KICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnF1ZXJ5LmxpbWl0IHx8IDIwOw0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGZldGNoRGF0YSgpew0KICAgICAgcmV0dXJuIGF3YWl0IGdldEJsb2dUeXBlcygpOw0KICAgIH0sDQogICAgaGFuZGxlU2VsZWN0ZWQoaXRlbSl7DQogICAgICBjb25zdCBxdWVyeSA9IHsNCiAgICAgICAgcGFnZTogMSwNCiAgICAgICAgbGltaXQ6IHRoaXMubGltaXQNCiAgICAgIH0NCiAgICAgIC8v6Lez6L2s5Yiw5b2T5YmN55qE5YiG57G7aWTvvIzlvZPliY3nmoTpobXlrrnph48gbmV3UGFnZeeahOmhteeggQ0KICAgICAgaWYgKGl0ZW0uaWQgPT09IC0xKXsNCiAgICAgICAgLy/lvZPliY3msqHmnInliIbnsbsNCiAgICAgICAgLy8gICAvYXJ0aWNsZS9jYXRlLy0xP3BhZ2U9JHtuZXdQYWdlfSZsaW1pdD0ke3RoaXMucm91dGVJbmZvLmxpbWl0fQ0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgICAgbmFtZTogIkJsb2ciLA0KICAgICAgICAgIHF1ZXJ5DQogICAgICAgIH0pDQogICAgICB9ZWxzZXsNCiAgICAgICAgLy8gICAvYXJ0aWNsZS9jYXRlLyR7dGhpcy5yb3V0ZUluZm8uY2F0ZWdvcnlJZH0vcGFnZT0ke25ld1BhZ2V9JmxpbWl0PSR7dGhpcy5yb3V0ZUluZm8ubGltaXR9DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgICBuYW1lOiAiQ2F0ZWdvcnlCbG9nIiwNCiAgICAgICAgICBxdWVyeSwNCiAgICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgICAgIGNhdGVnb3J5SWQ6IGl0ZW0uaWQNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["BlogCategory.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BlogCategory.vue","sourceRoot":"src/views/Blog/components","sourcesContent":["<template>\r\n<div class=\"blog-category-container\" v-loading=\"isLoading\">\r\n  <h2>文章分类</h2>\r\n  <Catalogue :list=\"list\" @select=\"handleSelected\"/>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Catalogue from \"@/views/Blog/components/Catalogue\";\r\nimport fetchData from \"@/mixins/fetchData\";\r\nimport { getBlogTypes } from \"@/api/blog\";\r\n\r\nexport default {\r\n  name: \"BlogCategory\",\r\n  mixins: [fetchData([])],\r\n  components: {\r\n    Catalogue\r\n  },\r\n  computed: {\r\n    categoryId(){\r\n      return +this.$route.params.categoryId || -1;\r\n    },\r\n    list(){\r\n      const totalArticleCount = this.data.reduce((a, b) => a + b.articleCount, 0);\r\n      const result = [{name: \"全部\", id: -1,\r\n        articleCount: totalArticleCount}, ...this.data]\r\n      return result.map(item => ({\r\n        ...item,\r\n        isSelected: item.id === this.categoryId,\r\n        aside: `${item.articleCount}篇`\r\n      }));\r\n    },\r\n    limit(){\r\n      return this.$route.query.limit || 20;\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchData(){\r\n      return await getBlogTypes();\r\n    },\r\n    handleSelected(item){\r\n      const query = {\r\n        page: 1,\r\n        limit: this.limit\r\n      }\r\n      //跳转到当前的分类id，当前的页容量 newPage的页码\r\n      if (item.id === -1){\r\n        //当前没有分类\r\n        //   /article/cate/-1?page=${newPage}&limit=${this.routeInfo.limit}\r\n        this.$router.push({\r\n          name: \"Blog\",\r\n          query\r\n        })\r\n      }else{\r\n        //   /article/cate/${this.routeInfo.categoryId}/page=${newPage}&limit=${this.routeInfo.limit}\r\n        this.$router.push({\r\n          name: \"CategoryBlog\",\r\n          query,\r\n          params: {\r\n            categoryId: item.id\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.blog-category-container{\r\n  box-sizing: border-box;\r\n  width: 350px;\r\n  height: 100%;\r\n  padding: 40px 20px 40px 40px;\r\n  overflow-y: auto;\r\n  position: relative;\r\n  h2{\r\n    font-weight: bold;\r\n    margin: 0;\r\n    font-size: 32px;\r\n    letter-spacing: 2px;\r\n  }\r\n}\r\n</style>"]}]}