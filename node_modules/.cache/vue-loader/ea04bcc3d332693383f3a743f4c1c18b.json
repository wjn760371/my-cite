{"remainingRequest":"F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\src\\views\\Home\\Carouselitem.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\src\\views\\Home\\Carouselitem.vue","mtime":1617805255250},{"path":"F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgSW1hZ2VMb2FkZXIgZnJvbSAiQC9jb21wb25lbnRzL0ltYWdlTG9hZGVyIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkNhcm91c2VsSXRlbSIsDQogIGNvbXBvbmVudHM6ew0KICAgIEltYWdlTG9hZGVyDQogIH0sDQogIGRhdGEoKXsNCiAgICByZXR1cm4gew0KICAgICAgdGl0bGVXaWR0aDogMCwNCiAgICAgIGRlc2NXaWR0aDogMCwNCiAgICAgIHRpdGxlSGVpZ2h0OiAwLA0KICAgICAgZGVzY0hlaWdodDogMCwNCiAgICAgIGNvbnRhaW5lclNpemU6IG51bGwsLy/lpJblsYLlrrnlmajnmoTlsLrlr7gNCiAgICAgIGlubmVyU2l6ZTogbnVsbCwvL+mHjOWxguWbvueJh+eahOWwuuWvuA0KICAgICAgbW91c2VYOiAwLC8v6byg5qCH55qEWOWdkOaghw0KICAgICAgbW91c2VZOiAwLC8v6byg5qCH55qEWeWdkOaghw0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpew0KICAgIHRoaXMuc2hvd1dvcmRzKCk7DQogICAgdGhpcy5zZXRTaXplKCk7DQogICAgdGhpcy5tb3VzZVggPSB0aGlzLmNlbnRlci54Ow0KICAgIHRoaXMubW91c2VZID0gdGhpcy5jZW50ZXIueTsNCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy5zZXRTaXplKTsNCiAgfSwNCiAgZGVzdHJveWVkKCkgew0KICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLCB0aGlzLnNldFNpemUpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgc2hvd1dvcmRzKCl7DQogICAgICB0aGlzLiRyZWZzLnRpdGxlLnN0eWxlLm9wYWNpdHkgPSAwOw0KICAgICAgdGhpcy4kcmVmcy5kZXNjcmlwdGlvbi5zdHlsZS5vcGFjaXR5ID0gMDsNCiAgICAgIHRoaXMuJHJlZnMudGl0bGUuY2xpZW50SGVpZ2h0Ow0KICAgICAgdGhpcy4kcmVmcy50aXRsZS5zdHlsZS50cmFuc2l0aW9uID0gIjJzIGVhc2UtaW4iOw0KICAgICAgdGhpcy4kcmVmcy5kZXNjcmlwdGlvbi5zdHlsZS50cmFuc2l0aW9uID0gIjJzIGVhc2UtaW4iOw0KICAgICAgdGhpcy4kcmVmcy50aXRsZS5zdHlsZS5vcGFjaXR5ID0gMTsNCiAgICAgIHRoaXMuJHJlZnMuZGVzY3JpcHRpb24uc3R5bGUub3BhY2l0eSA9IDE7DQogICAgfSwNCiAgICBzZXRTaXplKCl7DQogICAgICB0aGlzLmNvbnRhaW5lclNpemUgPSB7DQogICAgICAgIHdpZHRoOiB0aGlzLiRyZWZzLmNvbnRhaW5lci5jbGllbnRXaWR0aCwNCiAgICAgICAgaGVpZ2h0OiB0aGlzLiRyZWZzLmNvbnRhaW5lci5jbGllbnRIZWlnaHQNCiAgICAgIH07DQogICAgICB0aGlzLmlubmVyU2l6ZSA9IHsNCiAgICAgICAgd2lkdGg6IHRoaXMuJHJlZnMuaW1nLmNsaWVudFdpZHRoLA0KICAgICAgICBoZWlnaHQ6IHRoaXMuJHJlZnMuaW1nLmNsaWVudEhlaWdodA0KICAgICAgfTsNCiAgICB9LA0KICAgIGhhbmRsZU1vdXNlTW92ZShlKXsNCiAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLiRyZWZzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsNCiAgICAgIHRoaXMubW91c2VYID0gZS5jbGllbnRYIC0gcmVjdC5sZWZ0Ow0KICAgICAgdGhpcy5tb3VzZVkgPSBlLmNsaWVudFkgLSByZWN0LnRvcDsNCiAgICB9LA0KICAgIGhhbmRsZU1vdXNlTGVhdmUoKXsNCiAgICAgIHRoaXMubW91c2VYID0gdGhpcy5jZW50ZXIueDsNCiAgICAgIHRoaXMubW91c2VZID0gdGhpcy5jZW50ZXIueTsNCiAgICB9DQogIH0sDQogIHByb3BzOiBbImNhcm91c2VsIl0sDQogIGNvbXB1dGVkOiB7DQogICAgaW1hZ2VQb3NpdGlvbigpew0KICAgICAgaWYgKCF0aGlzLmlubmVyU2l6ZSB8fCAhdGhpcy5jb250YWluZXJTaXplKXsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgY29uc3QgZXhhY3RYID0gdGhpcy5pbm5lclNpemUud2lkdGggLSB0aGlzLmNvbnRhaW5lclNpemUud2lkdGg7DQogICAgICBjb25zdCBleGFjdFkgPSB0aGlzLmlubmVyU2l6ZS5oZWlnaHQgLSB0aGlzLmNvbnRhaW5lclNpemUuaGVpZ2h0Ow0KICAgICAgY29uc3QgbGVmdCA9IC1leGFjdFggLyB0aGlzLmlubmVyU2l6ZS53aWR0aCAqdGhpcy5tb3VzZVg7DQogICAgICBjb25zdCB0b3AgPSAtZXhhY3RZIC8gdGhpcy5pbm5lclNpemUuaGVpZ2h0ICogdGhpcy5tb3VzZVk7DQogICAgICByZXR1cm4gew0KICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHtsZWZ0fXB4LCAke3RvcH1weClgDQogICAgICB9DQogICAgfSwNCiAgICBjZW50ZXIoKXsNCiAgICAgIHJldHVybiB7DQogICAgICAgIHg6IHRoaXMuY29udGFpbmVyU2l6ZS53aWR0aCAvIDIsDQogICAgICAgIHk6IHRoaXMuY29udGFpbmVyU2l6ZS5oZWlnaHQgLyAyDQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["Carouselitem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Carouselitem.vue","sourceRoot":"src/views/Home","sourcesContent":["<template>\r\n<div\r\n    class=\"carousel-item-container\"\r\n    @mousemove=\"handleMouseMove\"\r\n    @mouseleave=\"handleMouseLeave\"\r\n    ref=\"container\">\r\n  <div class=\"carousel-img\" ref=\"img\" :style=\"imagePosition\">\r\n    <ImageLoader\r\n        :src=\"carousel.bigImg\"\r\n        :placeholder=\"carousel.midImg\"/>\r\n  </div>\r\n  <div class=\"title\" ref=\"title\">{{ carousel.title }}</div>\r\n  <div class=\"description\" ref=\"description\">{{ carousel.description }}</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport ImageLoader from \"@/components/ImageLoader\";\r\nexport default {\r\n  name: \"CarouselItem\",\r\n  components:{\r\n    ImageLoader\r\n  },\r\n  data(){\r\n    return {\r\n      titleWidth: 0,\r\n      descWidth: 0,\r\n      titleHeight: 0,\r\n      descHeight: 0,\r\n      containerSize: null,//外层容器的尺寸\r\n      innerSize: null,//里层图片的尺寸\r\n      mouseX: 0,//鼠标的X坐标\r\n      mouseY: 0,//鼠标的Y坐标\r\n    }\r\n  },\r\n  mounted(){\r\n    this.showWords();\r\n    this.setSize();\r\n    this.mouseX = this.center.x;\r\n    this.mouseY = this.center.y;\r\n    window.addEventListener(\"resize\", this.setSize);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"resize\", this.setSize);\r\n  },\r\n  methods: {\r\n    showWords(){\r\n      this.$refs.title.style.opacity = 0;\r\n      this.$refs.description.style.opacity = 0;\r\n      this.$refs.title.clientHeight;\r\n      this.$refs.title.style.transition = \"2s ease-in\";\r\n      this.$refs.description.style.transition = \"2s ease-in\";\r\n      this.$refs.title.style.opacity = 1;\r\n      this.$refs.description.style.opacity = 1;\r\n    },\r\n    setSize(){\r\n      this.containerSize = {\r\n        width: this.$refs.container.clientWidth,\r\n        height: this.$refs.container.clientHeight\r\n      };\r\n      this.innerSize = {\r\n        width: this.$refs.img.clientWidth,\r\n        height: this.$refs.img.clientHeight\r\n      };\r\n    },\r\n    handleMouseMove(e){\r\n      const rect = this.$refs.container.getBoundingClientRect();\r\n      this.mouseX = e.clientX - rect.left;\r\n      this.mouseY = e.clientY - rect.top;\r\n    },\r\n    handleMouseLeave(){\r\n      this.mouseX = this.center.x;\r\n      this.mouseY = this.center.y;\r\n    }\r\n  },\r\n  props: [\"carousel\"],\r\n  computed: {\r\n    imagePosition(){\r\n      if (!this.innerSize || !this.containerSize){\r\n        return;\r\n      }\r\n      const exactX = this.innerSize.width - this.containerSize.width;\r\n      const exactY = this.innerSize.height - this.containerSize.height;\r\n      const left = -exactX / this.innerSize.width *this.mouseX;\r\n      const top = -exactY / this.innerSize.height * this.mouseY;\r\n      return {\r\n        transform: `translate(${left}px, ${top}px)`\r\n      }\r\n    },\r\n    center(){\r\n      return {\r\n        x: this.containerSize.width / 2,\r\n        y: this.containerSize.height / 2\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import \"~@/styles/var.less\";\r\n.carousel-item-container{\r\n  background: @dark;\r\n  width: 100%;\r\n  height: 100%;\r\n  color: #fff;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.carousel-img{\r\n  width: 103%;\r\n  height: 103%;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  transition: .2s;\r\n}\r\n.title, .description{\r\n  position: absolute;\r\n  left: calc(82% - 40px);\r\n  padding: 20px;\r\n  letter-spacing: 3px;\r\n  white-space: nowrap;\r\n  opacity: 0;\r\n}\r\n.title{\r\n  top: 78%;\r\n  font-size: 2em;\r\n  font-weight: bolder;\r\n  color: lighten(@gray, 20%);\r\n  text-shadow: 1px 0 20px rgb(255, 0, 255, .7),\r\n              -1px 0 20px rgb(255, 255, 0, .7),\r\n              0 1px 20px rgb(0, 255, 255, .7),\r\n              0 -1px 20px rgb(125, 125, 125, .7);\r\n}\r\n.description{\r\n  top: 86%;\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  color: lighten(@gray, 10%);\r\n  text-shadow: 1px 0 15px rgb(255, 0, 255, .7),\r\n              -1px 0 15px rgb(255, 255, 0, .7),\r\n              0 1px 15px rgb(0, 255, 255, .7),\r\n              0 -1px 15px rgb(125, 125, 125, .7);\r\n}\r\n</style>"]}]}