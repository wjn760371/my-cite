{"remainingRequest":"F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\node_modules\\thread-loader\\dist\\cjs.js!F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\node_modules\\babel-loader\\lib\\index.js!F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\src\\directive\\loading.js","dependencies":[{"path":"F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\src\\directive\\loading.js","mtime":1618227994690},{"path":"F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Webstromfiles\\录播课程\\VUE2\\入门\\搭建工程\\my-cite\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGxvYWRpbmdVcmwgZnJvbSAiQC9hc3NldHMvc3ZnL3RhaWwtc3Bpbi5zdmciOwppbXBvcnQgc3R5bGVzIGZyb20gIi4vbG9hZGluZy5tb2R1bGUubGVzcyI7IC8v5Yik5patZWzkuK3mmK/lkKblrZjlnKhsb2FkaW5n5pWI5p6c55qEaW1n5YWD57SgCgpmdW5jdGlvbiBnZXRMb2FkaW5nSW1hZ2UoZWwpIHsKICByZXR1cm4gZWwucXVlcnlTZWxlY3RvcigiaW1nW2RhdGEtcm9sZT1sb2FkaW5nXSIpOwp9CgpmdW5jdGlvbiBjcmVhdGVMb2FkaW5nSW1nKCkgewogIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKICBpbWcuZGF0YXNldC5yb2xlID0gImxvYWRpbmciOwogIGltZy5zcmMgPSBsb2FkaW5nVXJsOwogIGltZy5jbGFzc05hbWUgPSBzdHlsZXMubG9hZGluZzsKICByZXR1cm4gaW1nOwp9IC8v5a+85Ye65oyH5Luk55qE6YWN572u5a+56LGhCgoKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGVsLCBiaW5kaW5nKSB7CiAgLy/moLnmja5iaW5kaW5nLnZhbHVl55qE5YC877yM5Yaz5a6a5Yib5bu65oiW5Yig6ZmkaW1n5YWD57SgCiAgdmFyIGN1ckltZyA9IGdldExvYWRpbmdJbWFnZShlbCk7CgogIGlmIChiaW5kaW5nLnZhbHVlKSB7CiAgICAvL+WmguaenOayoeaciWltZ+WFg+e0oOWGjeWIm+W7ugogICAgaWYgKCFjdXJJbWcpIHsKICAgICAgdmFyIGltZyA9IGNyZWF0ZUxvYWRpbmdJbWcoKTsKICAgICAgZWwuYXBwZW5kQ2hpbGQoaW1nKTsKICAgIH0KICB9IGVsc2UgewogICAgaWYgKGN1ckltZykgewogICAgICBjdXJJbWcucmVtb3ZlKCk7CiAgICB9CiAgfQp9"},{"version":3,"sources":["F:/Webstromfiles/录播课程/VUE2/入门/搭建工程/my-cite/src/directive/loading.js"],"names":["loadingUrl","styles","getLoadingImage","el","querySelector","createLoadingImg","img","document","createElement","dataset","role","src","className","loading","binding","curImg","value","appendChild","remove"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,4BAAvB;AACA,OAAOC,MAAP,MAAmB,uBAAnB,C,CAEA;;AACA,SAASC,eAAT,CAAyBC,EAAzB,EAA4B;AACxB,SAAOA,EAAE,CAACC,aAAH,CAAiB,wBAAjB,CAAP;AACH;;AAED,SAASC,gBAAT,GAA2B;AACvB,MAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ;AACAF,EAAAA,GAAG,CAACG,OAAJ,CAAYC,IAAZ,GAAmB,SAAnB;AACAJ,EAAAA,GAAG,CAACK,GAAJ,GAAUX,UAAV;AACAM,EAAAA,GAAG,CAACM,SAAJ,GAAgBX,MAAM,CAACY,OAAvB;AACA,SAAOP,GAAP;AACH,C,CAED;;;AACA,eAAe,UAASH,EAAT,EAAaW,OAAb,EAAqB;AAChC;AACA,MAAMC,MAAM,GAAGb,eAAe,CAACC,EAAD,CAA9B;;AACA,MAAIW,OAAO,CAACE,KAAZ,EAAkB;AACd;AACA,QAAG,CAACD,MAAJ,EAAW;AACP,UAAMT,GAAG,GAAGD,gBAAgB,EAA5B;AACAF,MAAAA,EAAE,CAACc,WAAH,CAAeX,GAAf;AACH;AACJ,GAND,MAMK;AACD,QAAIS,MAAJ,EAAW;AACPA,MAAAA,MAAM,CAACG,MAAP;AACH;AACJ;AACJ","sourcesContent":["import loadingUrl from \"@/assets/svg/tail-spin.svg\";\r\nimport styles from \"./loading.module.less\"\r\n\r\n//判断el中是否存在loading效果的img元素\r\nfunction getLoadingImage(el){\r\n    return el.querySelector(\"img[data-role=loading]\")\r\n}\r\n\r\nfunction createLoadingImg(){\r\n    const img = document.createElement(\"img\");\r\n    img.dataset.role = \"loading\";\r\n    img.src = loadingUrl;\r\n    img.className = styles.loading;\r\n    return img;\r\n}\r\n\r\n//导出指令的配置对象\r\nexport default function(el, binding){\r\n    //根据binding.value的值，决定创建或删除img元素\r\n    const curImg = getLoadingImage(el);\r\n    if (binding.value){\r\n        //如果没有img元素再创建\r\n        if(!curImg){\r\n            const img = createLoadingImg();\r\n            el.appendChild(img);\r\n        }\r\n    }else{\r\n        if (curImg){\r\n            curImg.remove();\r\n        }\r\n    }\r\n}"]}]}